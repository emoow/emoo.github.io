<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Google Sign In</title>
</head>
<body>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Nosifer&family=UnifrakturMaguntia&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    .info-page {
      opacity: 0;
      transition: opacity 1s ease-in;
      /* keep display: flex or block as needed */
    }
    .info-page.active {
      opacity: 1;
    }
    .download-btn {
    display: inline-block;
    padding: 10px 20px;
    background-color: hsl(273, 79%, 47%);
    color: white;
    text-decoration: none;
    border-radius: 5px;
    font-weight: bold;
    transition: background-color 0.3s;
}

.download-btn:hover {
    background-color: hwb(257 19% 36%);
}
  </style>
</head>
<body>
  <div class="background-light"></div>
  <div class="liquid-glass"></div>

  <!-- Resume Page -->
<div class="resumePage">
</div>


  <!-- Bubble Container -->
  <div id="bubbleContainer" style="position:fixed; left:0; top:0; width:100vw; height:100vh; z-index:10; pointer-events:none;"></div>
  <!-- Bubble Canvas (background only, not interactive) -->
  <canvas id="bubbleCanvas" style="position:fixed; left:0; top:0; width:100vw; height:100vh; z-index:2; pointer-events:none;"></canvas>

  <script>
    // Image slider logic
    const sliderImages = [
      'assets/pic1.jpg',
      'assets/pic2.jpeg',
      'assets/pic3.jpeg'
    ];
    let sliderIndex = 0;
    window.addEventListener('DOMContentLoaded', function() {
      // Fade in info page
      document.getElementById('infoPage').classList.add('active');
      const sliderImage = document.getElementById('sliderImage');
      setInterval(() => {
        sliderIndex = (sliderIndex + 1) % sliderImages.length;
        sliderImage.src = sliderImages[sliderIndex];
      }, 5000);
    });
    
    // Bubble animation logic (HTML bubbles)
    const bubbleLabels = ["contact", "info", "puzzles", "projects", "music", "opponent"];
    const colors = ["#a259e6", "#f672a7", "#5adbb5", "#ffe066", "#6a89cc", "#ff7675"];
    const bubbleContainer = document.getElementById('bubbleContainer');
    const radius = 48;
    let bubbles = [];
    let dpr = window.devicePixelRatio || 1;

    function createBubble(label, color, x, y) {
        const div = document.createElement('div');
        div.className = 'bubble';
        div.textContent = label;

        Object.assign(div.style, {
            position: 'absolute',
            left: (x - radius) + 'px',
            top: (y - radius) + 'px',
            width: (2 * radius) + 'px',
            height: (2 * radius) + 'px',
            borderRadius: '50%',
            zIndex: 11,
            cursor: 'pointer',
            pointerEvents: 'auto',
            userSelect: 'none',

            /* ===== 等价 ctx.globalAlpha = 0.85 ===== */
            opacity: '0.85',

            /* ===== 1. 等价 createRadialGradient ===== */
            background: `
            radial-gradient(
                circle at ${radius * 0.7}px ${radius * 0.7}px,
                rgba(255,255,255,0.55) 0%,
                rgba(255,255,255,0.18) 40%,
                rgba(255,255,255,0.08) 100%
            )
            `,

            /* ===== 玻璃折射（canvas 没有，但视觉必须有） ===== */
            backdropFilter: 'blur(12px)',
            WebkitBackdropFilter: 'blur(12px)',

            /* ===== 等价 shadowColor + shadowBlur ===== */
            boxShadow: `0 0 24px ${color}`,

            /* ===== 等价 ctx.stroke ===== */
            border: '1.2px solid rgba(255,255,255,0.35)',

            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',

            font: 'bold 1.2rem -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif',
            color: 'rgba(255,255,255,0.95)',
        });

        /* ===== 3. 高光反射（等价 arc 高光） ===== */
        const highlight = document.createElement('div');
        Object.assign(highlight.style, {
            position: 'absolute',
            inset: 0,
            borderRadius: '50%',
            pointerEvents: 'none',
            background: `
            conic-gradient(
                from 207deg at 35% 35%,
                rgba(255,255,255,0.45) 0deg,
                rgba(255,255,255,0.45) 30deg,
                transparent 55deg
            )
            `,
            maskImage: 'radial-gradient(circle, black 60%, transparent 61%)',
            WebkitMaskImage: 'radial-gradient(circle, black 60%, transparent 61%)'
        });

        div.appendChild(highlight);

        div.addEventListener('click', (e) => {
            window.location.href = label + '.html';
            e.stopPropagation();
        });

        bubbleContainer.appendChild(div);

        return {
            label,
            color,
            x,
            y,
            vx: (Math.random() - 0.5) * 2,
            vy: -2 - Math.random() * 2,
            div,
            stopped: false
        };
        }



    function nonOverlappingPosition(existing, radius) {
      let tries = 0;
      while (tries < 1000) {
        const x = Math.random() * (window.innerWidth - 2 * radius) + radius;
        const y = window.innerHeight - radius - Math.random() * 40;
        if (existing.every(b => Math.hypot(b.x - x, b.y - y) >= 2 * radius)) {
          return { x, y };
        }
        tries++;
      }
      return { x: radius + tries * 2, y: window.innerHeight - radius };
    }

    function initBubbles() {
      bubbleContainer.innerHTML = '';
      bubbles = [];
      for (let i = 0; i < bubbleLabels.length; i++) {
        const {x, y} = nonOverlappingPosition(bubbles, radius);
        bubbles.push(createBubble(bubbleLabels[i], colors[i % colors.length], x, y));
      }
    }
    initBubbles();

    function updateBubbles() {
      for (let i = 0; i < bubbles.length; i++) {
        let b = bubbles[i];
        if (b.stopped) continue;
        b.x += b.vx;
        b.y += b.vy;
        // Bounce off left/right
        if (b.x - radius < 0) { b.x = radius; b.vx *= -1; }
        if (b.x + radius > window.innerWidth) { b.x = window.innerWidth - radius; b.vx *= -1; }
        // Bounce off other bubbles
        for (let j = 0; j < bubbles.length; j++) {
          if (i === j) continue;
          let b2 = bubbles[j];
          let dx = b2.x - b.x, dy = b2.y - b.y, dist = Math.hypot(dx, dy);
          if (dist < 2 * radius) {
            const overlap = 2 * radius - dist;
            const angle = Math.atan2(dy, dx);
            b.x -= Math.cos(angle) * overlap / 2;
            b.y -= Math.sin(angle) * overlap / 2;
            b2.x += Math.cos(angle) * overlap / 2;
            b2.y += Math.sin(angle) * overlap / 2;
            b.vx *= -1; b.vy *= -1;
            b2.vx *= -1; b2.vy *= -1;
          }
        }
        // Bounce off bottom
        if (b.y + radius > window.innerHeight) { b.y = window.innerHeight - radius; b.vy *= -1; }
        // Stop at top
        if (b.y - radius <= 0) { b.y = radius; b.vx = 0; b.vy = 0; b.stopped = true; }
        // Update position
        b.div.style.left = (b.x - radius) + 'px';
        b.div.style.top = (b.y - radius) + 'px';
      }
    }

    function animateBubbles() {
      updateBubbles();
      requestAnimationFrame(animateBubbles);
    }
    animateBubbles();

    window.addEventListener('resize', () => {
      initBubbles();
    });
    
    console.log(`
     _____________________________________________________________________
    < Though really don't know why you checking console for resume page... >
     ---------------------------------------------------------------------
             \\      .
              \\   ":"
                   ___:____     |"\\/|
               ,'        \`.    \\  /
               |  O        \\___/  |
               ~^~^~^~^~^~^~^~^~^~^~^~^~
    `);
  </script>
  <div id="g_id_onload"
       data-client_id="554035188536-onudvbkqogachr8o86qu41k8l7hfte5t.apps.googleusercontent.com"
       data-callback="handleCredentialResponse">
  </div>
  <div class="g_id_signin" 
       data-type="standard"
       data-size="large"
       data-theme="outline"
       data-text="sign_in_with"
       data-shape="circle"
       data-logo_alignment="left">
  </div>

  <script>
    function handleCredentialResponse(response) {
      // 解码 JWT token 来获取用户信息
      const responsePayload = decodeJwtResponse(response.credential);
      
      console.log("ID: " + responsePayload.sub);
      console.log('Full Name: ' + responsePayload.name);
      console.log('Email: ' + responsePayload.email);
      console.log("Image URL: " + responsePayload.picture);
    }

    function decodeJwtResponse(token) {
      var base64Url = token.split('.')[1];
      var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
      var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
      }).join(''));
      return JSON.parse(jsonPayload);
    }
  </script>

  <script src="https://accounts.google.com/gsi/client" async defer></script>
</body>
</html>